<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>42 Heilbronn - Smart Black Hole Prevention Timetable</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #00b4d8;
            --secondary: #0077b6;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #52b788;
            --warning: #ffd166;
            --danger: #ef476f;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: var(--light);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #adb5bd;
            max-width: 800px;
            margin: 0 auto;
        }

        .intro {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .intro h2 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .intro p {
            margin-bottom: 15px;
        }

        .blackhole-definition {
            background: rgba(239, 71, 111, 0.1);
            border-left: 4px solid var(--danger);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .timetable-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 25px;
        }

        .timetable {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .timetable-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .week-navigation {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .week-navigation button {
            background: var(--primary);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .week-navigation button:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(0, 180, 216, 0.2);
            color: var(--primary);
            font-weight: 600;
        }

        td {
            height: 80px;
            vertical-align: top;
            position: relative;
            transition: all 0.3s ease;
        }

        td:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .time-header {
            background: rgba(0, 119, 182, 0.3);
            font-weight: 600;
        }

        .activity {
            border-radius: 8px;
            padding: 8px 5px;
            margin-bottom: 5px;
            font-size: 0.85rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .activity:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .coding {
            background: rgba(0, 180, 216, 0.3);
            border-left: 4px solid var(--primary);
        }

        .break {
            background: rgba(82, 183, 136, 0.3);
            border-left: 4px solid var(--success);
        }

        .social {
            background: rgba(255, 209, 102, 0.3);
            border-left: 4px solid var(--warning);
        }

        .learning {
            background: rgba(157, 78, 221, 0.3);
            border-left: 4px solid #9d4edd;
        }

        .wellness {
            background: rgba(239, 71, 111, 0.3);
            border-left: 4px solid var(--danger);
        }

        .suggestion-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--warning);
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #adb5bd;
        }

        .productivity {
            color: var(--success);
        }

        .balance {
            color: var(--warning);
        }

        .wellness-score {
            color: var(--primary);
        }

        .social-health {
            color: #9d4edd;
        }

        .tips-list {
            list-style-type: none;
        }

        .tips-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .tips-list li:last-child {
            border-bottom: none;
        }

        .tips-list i {
            color: var(--primary);
            margin-top: 3px;
        }

        .resources-list {
            list-style-type: none;
        }

        .resources-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .resources-list li:last-child {
            border-bottom: none;
        }

        .resources-list a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .resources-list a:hover {
            color: var(--primary);
        }

        .customize-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 15px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .customize-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 40px;
            color: #adb5bd;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: #adb5bd;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: var(--primary);
        }

        .modal-header {
            margin-bottom: 25px;
            text-align: center;
        }

        .modal-header h2 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .customization-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--light);
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 180, 216, 0.3);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .time-slots {
            grid-column: 1 / -1;
        }

        .time-slot {
            display: grid;
            grid-template-columns: 120px 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .time-label {
            font-weight: 600;
            color: var(--primary);
        }

        .day-label {
            text-align: center;
            font-weight: 600;
            color: var(--light);
            margin-bottom: 5px;
        }

        .modal-actions {
            grid-column: 1 / -1;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .activity-edit {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.8rem;
        }

        .suggestions-panel {
            background: rgba(255, 209, 102, 0.1);
            border-left: 4px solid var(--warning);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 20px;
        }

        .suggestions-panel h4 {
            color: var(--warning);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .suggestion-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .suggestion-text {
            flex: 1;
        }

        .suggestion-actions {
            display: flex;
            gap: 8px;
        }

        .suggestion-btn {
            background: transparent;
            border: none;
            color: var(--light);
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .suggestion-btn.accept {
            background: rgba(82, 183, 136, 0.3);
        }

        .suggestion-btn.accept:hover {
            background: rgba(82, 183, 136, 0.5);
        }

        .suggestion-btn.ignore {
            background: rgba(239, 71, 111, 0.3);
        }

        .suggestion-btn.ignore:hover {
            background: rgba(239, 71, 111, 0.5);
        }

        .ai-suggestion {
            background: rgba(157, 78, 221, 0.1);
            border-left: 4px solid #9d4edd;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 20px;
        }

        .ai-suggestion h4 {
            color: #9d4edd;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        @media (max-width: 992px) {
            .timetable-container {
                grid-template-columns: 1fr;
            }

            .customization-form {
                grid-template-columns: 1fr;
            }

            .time-slot {
                grid-template-columns: 100px 1fr;
                gap: 5px;
            }

            .day-label {
                display: none;
            }
        }

        @media (max-width: 768px) {
            table {
                font-size: 0.8rem;
            }

            th,
            td {
                padding: 8px 4px;
            }

            .activity {
                font-size: 0.7rem;
                padding: 4px 2px;
            }

            .modal-content {
                padding: 15px;
                width: 95%;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-user-astronaut"></i>
                <h1>Smart Black Hole Prevention Timetable</h1>
            </div>
            <p class="subtitle">AI-powered suggestions and customization to avoid getting Blackholed at 42 Heilbronn</p>
        </header>

        <section class="intro">
            <h2><i class="fas fa-robot"></i> Smart Activity Suggestions</h2>
            <p>This timetable provides intelligent suggestions based on your preferences, but you have full control to
                customize everything.</p>

            <div class="blackhole-definition">
                <p><strong>How it works:</strong> The system analyzes your preferences and goals to suggest optimal
                    activities, but you can always accept, modify, or ignore these suggestions.</p>
            </div>

            <p>Look for the <span style="color: var(--warning)">yellow dots</span> on activities to see our suggestions!
            </p>
        </section>

        <div class="timetable-container">
            <main class="timetable">
                <div class="timetable-header">
                    <h2><i class="fas fa-calendar-week"></i> Your Personalized Schedule</h2>
                    <div class="week-navigation">
                        <button id="prev-week"><i class="fas fa-chevron-left"></i></button>
                        <span id="current-week">Week of October 16, 2023</span>
                        <button id="next-week"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <table id="schedule-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednesday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                            <th>Saturday</th>
                            <th>Sunday</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table rows will be populated by JavaScript -->
                    </tbody>
                </table>

                <div class="suggestions-panel">
                    <h4><i class="fas fa-lightbulb"></i> Smart Suggestions</h4>
                    <div id="suggestions-list">
                        <!-- Suggestions will be populated by JavaScript -->
                    </div>
                </div>

                <div class="ai-suggestion">
                    <h4><i class="fas fa-robot"></i> AI Recommendation</h4>
                    <p id="ai-recommendation">Based on your current schedule, I recommend adding more short breaks
                        between coding sessions to maintain focus and prevent burnout.</p>
                </div>
            </main>

            <aside class="sidebar">
                <div class="card">
                    <h3><i class="fas fa-chart-line"></i> Weekly Stats</h3>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value productivity">78%</div>
                            <div class="stat-label">Productivity</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value balance">85%</div>
                            <div class="stat-label">Work-Life Balance</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value wellness-score">82%</div>
                            <div class="stat-label">Wellness Score</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value social-health">76%</div>
                            <div class="stat-label">Social Health</div>
                        </div>
                    </div>
                    <button class="customize-btn" id="customize-schedule"><i class="fas fa-sliders-h"></i> Customize
                        Your Schedule</button>
                </div>

                <div class="card">
                    <h3><i class="fas fa-lightbulb"></i> Black Hole Prevention Tips</h3>
                    <ul class="tips-list">
                        <li><i class="fas fa-clock"></i> Use the Pomodoro Technique (25min work, 5min break)</li>
                        <li><i class="fas fa-utensils"></i> Never skip meals - schedule them like meetings</li>
                        <li><i class="fas fa-dumbbell"></i> Take short walks every 2 hours</li>
                        <li><i class="fas fa-users"></i> Schedule at least one social activity daily</li>
                        <li><i class="fas fa-bed"></i> Maintain consistent sleep schedule</li>
                        <li><i class="fas fa-eye"></i> Follow the 20-20-20 rule for eye strain</li>
                    </ul>
                </div>

                <div class="card">
                    <h3><i class="fas fa-link"></i> Campus Resources</h3>
                    <ul class="resources-list">
                        <li><i class="fas fa-heart"></i> <a href="#">Student Wellness Center</a></li>
                        <li><i class="fas fa-utensils"></i> <a href="#">Campus Dining Schedule</a></li>
                        <li><i class="fas fa-dumbbell"></i> <a href="#">Fitness Center Hours</a></li>
                        <li><i class="fas fa-users"></i> <a href="#">Student Clubs & Events</a></li>
                        <li><i class="fas fa-hands-helping"></i> <a href="#">Peer Support Network</a></li>
                    </ul>
                </div>
            </aside>
        </div>

        <footer>
            <p>42 Heilbronn Smart Black Hole Prevention Initiative | AI-Powered Suggestions with Full Customization</p>
            <p>Remember: The most productive coders are those who maintain balance in their lives.</p>
        </footer>
    </div>

    <!-- Customization Modal -->
    <div class="modal" id="customization-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal">&times;</span>

            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Customize Your Schedule</h2>
                <p>Personalize your weekly timetable and activity suggestions</p>
            </div>

            <form class="customization-form" id="customization-form">
                <div class="form-group">
                    <label for="student-name">Your Name</label>
                    <input type="text" id="student-name" placeholder="Enter your name">
                </div>

                <div class="form-group">
                    <label for="focus-area">Primary Focus Area</label>
                    <select id="focus-area">
                        <option value="coding">Coding Projects</option>
                        <option value="algorithms">Algorithms</option>
                        <option value="web-dev">Web Development</option>
                        <option value="systems">Systems Programming</option>
                        <option value="ai-ml">AI/ML</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="current-project">Current Project</label>
                    <input type="text" id="current-project" placeholder="What project are you working on?">
                </div>

                <div class="form-group">
                    <label for="sleep-pattern">Sleep Pattern Preference</label>
                    <select id="sleep-pattern">
                        <option value="early-bird">Early Bird (6-7 AM wake up)</option>
                        <option value="balanced">Balanced (7-8 AM wake up)</option>
                        <option value="night-owl">Night Owl (8-9 AM wake up)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="social-preference">Social Activity Preference</label>
                    <select id="social-preference">
                        <option value="high">High (Daily social activities)</option>
                        <option value="medium">Medium (3-4 times per week)</option>
                        <option value="low">Low (1-2 times per week)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="exercise-frequency">Exercise Frequency</label>
                    <select id="exercise-frequency">
                        <option value="daily">Daily</option>
                        <option value="3-4-times">3-4 times per week</option>
                        <option value="1-2-times">1-2 times per week</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="break-style">Preferred Break Style</label>
                    <select id="break-style">
                        <option value="pomodoro">Pomodoro (25min work, 5min break)</option>
                        <option value="52-17">52/17 (52min work, 17min break)</option>
                        <option value="90-min">90-minute blocks</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="study-environment">Preferred Study Environment</label>
                    <select id="study-environment">
                        <option value="campus">On Campus</option>
                        <option value="home">At Home</option>
                        <option value="mixed">Mixed (Campus & Home)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="suggestions-preference">Activity Suggestions</label>
                    <select id="suggestions-preference">
                        <option value="frequent">Frequent (Many suggestions)</option>
                        <option value="moderate">Moderate (Balanced suggestions)</option>
                        <option value="minimal">Minimal (Few suggestions)</option>
                        <option value="none">None (No suggestions)</option>
                    </select>
                </div>

                <div class="time-slots">
                    <h3>Customize Time Slots</h3>
                    <p>Edit activities for each time slot and day. Yellow dots indicate our suggestions.</p>

                    <div class="days-header">
                        <div class="time-label">Time</div>
                        <div class="day-label">Monday</div>
                        <div class="day-label">Tuesday</div>
                        <div class="day-label">Wednesday</div>
                        <div class="day-label">Thursday</div>
                        <div class="day-label">Friday</div>
                        <div class="day-label">Saturday</div>
                        <div class="day-label">Sunday</div>
                    </div>

                    <div id="time-slots-container">
                        <!-- Time slots will be populated by JavaScript -->
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="reset-schedule">Reset to Default</button>
                    <button type="button" class="btn btn-secondary" id="generate-suggestions">Generate New
                        Suggestions</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Week navigation
            const weekDisplay = document.getElementById('current-week');
            const prevWeekBtn = document.getElementById('prev-week');
            const nextWeekBtn = document.getElementById('next-week');

            let currentWeek = 0;

            function updateWeekDisplay() {
                const baseDate = new Date();
                baseDate.setDate(baseDate.getDate() + currentWeek * 7);

                const startOfWeek = new Date(baseDate);
                startOfWeek.setDate(baseDate.getDate() - baseDate.getDay() + 1);

                const options = { month: 'long', day: 'numeric', year: 'numeric' };
                weekDisplay.textContent = `Week of ${startOfWeek.toLocaleDateString('en-US', options)}`;
            }

            prevWeekBtn.addEventListener('click', function () {
                currentWeek--;
                updateWeekDisplay();
            });

            nextWeekBtn.addEventListener('click', function () {
                currentWeek++;
                updateWeekDisplay();
            });

            // Initialize week display
            updateWeekDisplay();

            // Default schedule data
            const defaultSchedule = {
                studentName: "",
                focusArea: "coding",
                currentProject: "",
                sleepPattern: "balanced",
                socialPreference: "medium",
                exerciseFrequency: "3-4-times",
                breakStyle: "pomodoro",
                studyEnvironment: "campus",
                suggestionsPreference: "moderate",
                timeSlots: [
                    {
                        time: "7:00 - 8:00", days: [
                            { type: "wellness", text: "Morning Exercise & Breakfast", suggested: false },
                            { type: "wellness", text: "Morning Exercise & Breakfast", suggested: false },
                            { type: "wellness", text: "Morning Exercise & Breakfast", suggested: false },
                            { type: "wellness", text: "Morning Exercise & Breakfast", suggested: false },
                            { type: "wellness", text: "Morning Exercise & Breakfast", suggested: false },
                            { type: "wellness", text: "Sleep In & Light Breakfast", suggested: false },
                            { type: "wellness", text: "Sleep In & Light Breakfast", suggested: false }
                        ]
                    },
                    {
                        time: "8:00 - 10:00", days: [
                            { type: "coding", text: "Project Work Session 1", suggested: false },
                            { type: "coding", text: "Project Work Session 1", suggested: false },
                            { type: "coding", text: "Project Work Session 1", suggested: false },
                            { type: "coding", text: "Project Work Session 1", suggested: false },
                            { type: "coding", text: "Project Work Session 1", suggested: false },
                            { type: "wellness", text: "Outdoor Activity", suggested: true },
                            { type: "wellness", text: "Personal Time", suggested: false }
                        ]
                    },
                    {
                        time: "10:00 - 10:30", days: [
                            { type: "break", text: "Coffee Break & Snack", suggested: false },
                            { type: "break", text: "Coffee Break & Snack", suggested: false },
                            { type: "break", text: "Coffee Break & Snack", suggested: false },
                            { type: "break", text: "Coffee Break & Snack", suggested: false },
                            { type: "break", text: "Coffee Break & Snack", suggested: false },
                            { type: "break", text: "Coffee & Relax", suggested: false },
                            { type: "break", text: "Coffee & Relax", suggested: false }
                        ]
                    },
                    {
                        time: "10:30 - 12:30", days: [
                            { type: "coding", text: "Project Work Session 2", suggested: false },
                            { type: "coding", text: "Project Work Session 2", suggested: false },
                            { type: "learning", text: "Peer Learning Session", suggested: true },
                            { type: "coding", text: "Project Work Session 2", suggested: false },
                            { type: "coding", text: "Project Work Session 2", suggested: false },
                            { type: "social", text: "Social Activity", suggested: true },
                            { type: "learning", text: "Skill Development", suggested: false }
                        ]
                    },
                    {
                        time: "12:30 - 13:30", days: [
                            { type: "break", text: "Lunch Break", suggested: false },
                            { type: "break", text: "Lunch Break", suggested: false },
                            { type: "break", text: "Lunch Break", suggested: false },
                            { type: "break", text: "Lunch Break", suggested: false },
                            { type: "break", text: "Lunch Break", suggested: false },
                            { type: "break", text: "Lunch Out", suggested: true },
                            { type: "break", text: "Lunch & Relax", suggested: false }
                        ]
                    },
                    {
                        time: "13:30 - 15:30", days: [
                            { type: "coding", text: "Project Work Session 3", suggested: false },
                            { type: "coding", text: "Project Work Session 3", suggested: false },
                            { type: "coding", text: "Project Work Session 3", suggested: false },
                            { type: "coding", text: "Project Work Session 3", suggested: false },
                            { type: "coding", text: "Project Work Session 3", suggested: false },
                            { type: "social", text: "Explore Heilbronn", suggested: true },
                            { type: "learning", text: "Online Course", suggested: false }
                        ]
                    },
                    {
                        time: "15:30 - 16:00", days: [
                            { type: "break", text: "Afternoon Break", suggested: false },
                            { type: "break", text: "Afternoon Break", suggested: false },
                            { type: "break", text: "Afternoon Break", suggested: false },
                            { type: "break", text: "Afternoon Break", suggested: false },
                            { type: "break", text: "Afternoon Break", suggested: false },
                            { type: "break", text: "Snack Break", suggested: false },
                            { type: "break", text: "Snack Break", suggested: false }
                        ]
                    },
                    {
                        time: "16:00 - 18:00", days: [
                            { type: "learning", text: "Code Review & Debugging", suggested: false },
                            { type: "learning", text: "New Technology Exploration", suggested: true },
                            { type: "social", text: "Peer Programming", suggested: true },
                            { type: "learning", text: "Algorithm Practice", suggested: false },
                            { type: "social", text: "Project Collaboration", suggested: true },
                            { type: "wellness", text: "Fitness & Exercise", suggested: false },
                            { type: "wellness", text: "Meditation & Reflection", suggested: true }
                        ]
                    },
                    {
                        time: "18:00 - 19:30", days: [
                            { type: "break", text: "Dinner Break", suggested: false },
                            { type: "break", text: "Dinner Break", suggested: false },
                            { type: "break", text: "Dinner Break", suggested: false },
                            { type: "break", text: "Dinner Break", suggested: false },
                            { type: "social", text: "Social Dinner", suggested: true },
                            { type: "social", text: "Dinner with Friends", suggested: true },
                            { type: "break", text: "Dinner & Plan Week", suggested: false }
                        ]
                    },
                    {
                        time: "19:30 - 21:00", days: [
                            { type: "learning", text: "Light Study Session", suggested: false },
                            { type: "learning", text: "Light Study Session", suggested: false },
                            { type: "social", text: "42 Events/Workshops", suggested: true },
                            { type: "learning", text: "Light Study Session", suggested: false },
                            { type: "social", text: "Movie/Games Night", suggested: true },
                            { type: "social", text: "Evening Social", suggested: true },
                            { type: "learning", text: "Weekly Review", suggested: false }
                        ]
                    },
                    {
                        time: "21:00 - 22:30", days: [
                            { type: "wellness", text: "Wind Down & Relax", suggested: false },
                            { type: "wellness", text: "Wind Down & Relax", suggested: false },
                            { type: "wellness", text: "Wind Down & Relax", suggested: false },
                            { type: "wellness", text: "Wind Down & Relax", suggested: false },
                            { type: "social", text: "Social Time", suggested: true },
                            { type: "social", text: "Social Time", suggested: true },
                            { type: "wellness", text: "Prepare for Week", suggested: false }
                        ]
                    }
                ],
                suggestions: [
                    { text: "Add a 15-minute walk after lunch to improve digestion and focus", accepted: false },
                    { text: "Schedule a peer programming session on Wednesday afternoon", accepted: false },
                    { text: "Try the 52/17 work-break pattern for better productivity", accepted: false }
                ]
            };

            // Load schedule from localStorage or use default
            let currentSchedule = JSON.parse(localStorage.getItem('blackHoleSchedule')) || defaultSchedule;

            // Enhanced AI Suggestion Engine
            class PersonalizedAISuggestions {
                constructor(userProfile, scheduleData) {
                    this.userProfile = userProfile;
                    this.scheduleData = scheduleData;
                }

                generatePersonalizedSuggestions() {
                    const suggestions = [];
                    const analysis = this.analyzeSchedule();

                    suggestions.push(...this.generateCodingSuggestions(analysis));
                    suggestions.push(...this.generateWellnessSuggestions(analysis));
                    suggestions.push(...this.generateSocialSuggestions(analysis));
                    suggestions.push(...this.generateProductivitySuggestions(analysis));
                    suggestions.push(...this.generateGoalBasedSuggestions(analysis));

                    return this.filterSuggestions(suggestions);
                }

                analyzeSchedule() {
                    const analysis = {
                        codingHours: 0,
                        breakHours: 0,
                        socialHours: 0,
                        learningHours: 0,
                        wellnessHours: 0,
                        consecutiveCoding: 0,
                        maxConsecutiveCoding: 0,
                        lateNightSessions: 0,
                        mealConsistency: 0
                    };

                    let currentConsecutive = 0;

                    this.scheduleData.timeSlots.forEach(slot => {
                        const duration = this.getSlotDuration(slot.time);

                        slot.days.forEach(day => {
                            switch (day.type) {
                                case 'coding':
                                    analysis.codingHours += duration;
                                    currentConsecutive++;
                                    analysis.maxConsecutiveCoding = Math.max(analysis.maxConsecutiveCoding, currentConsecutive);
                                    break;
                                case 'break':
                                    analysis.breakHours += duration;
                                    currentConsecutive = 0;
                                    if (this.isMealSlot(slot.time)) analysis.mealConsistency++;
                                    break;
                                case 'social':
                                    analysis.socialHours += duration;
                                    currentConsecutive = 0;
                                    break;
                                case 'learning':
                                    analysis.learningHours += duration;
                                    currentConsecutive = 0;
                                    break;
                                case 'wellness':
                                    analysis.wellnessHours += duration;
                                    currentConsecutive = 0;
                                    break;
                            }

                            if (this.isLateNightSlot(slot.time) && day.type === 'coding') {
                                analysis.lateNightSessions++;
                            }
                        });
                    });

                    analysis.balanceScore = this.calculateBalanceScore(analysis);
                    return analysis;
                }

                generateCodingSuggestions(analysis) {
                    const suggestions = [];
                    const userFocus = this.userProfile.focusArea;
                    const currentProject = this.userProfile.currentProject;

                    if (analysis.maxConsecutiveCoding > 3) {
                        suggestions.push({
                            text: `You have ${analysis.maxConsecutiveCoding} consecutive coding sessions. Add more breaks to maintain focus.`,
                            priority: 'high',
                            category: 'productivity'
                        });
                    }

                    if (analysis.codingHours > 35) {
                        suggestions.push({
                            text: `You're scheduling ${analysis.codingHours.toFixed(1)} coding hours. That's intensive! Balance with adequate rest.`,
                            priority: 'medium',
                            category: 'wellness'
                        });
                    }

                    if (analysis.lateNightSessions > 2) {
                        suggestions.push({
                            text: `You have ${analysis.lateNightSessions} late-night coding sessions. Move these to daytime for better sleep.`,
                            priority: 'high',
                            category: 'wellness'
                        });
                    }

                    if (currentProject && userFocus === 'web-dev') {
                        suggestions.push({
                            text: `For ${currentProject}, schedule frontend/backend separation days to maintain context.`,
                            priority: 'low',
                            category: 'coding'
                        });
                    }

                    return suggestions;
                }

                generateWellnessSuggestions(analysis) {
                    const suggestions = [];
                    const sleepPattern = this.userProfile.sleepPattern;
                    const exerciseFreq = this.userProfile.exerciseFrequency;

                    if (analysis.mealConsistency < 10) {
                        suggestions.push({
                            text: `You're missing ${14 - analysis.mealConsistency} scheduled meals. Consistent nutrition is key for energy.`,
                            priority: 'medium',
                            category: 'wellness'
                        });
                    }

                    if (analysis.wellnessHours < 5) {
                        suggestions.push({
                            text: `Add more wellness activities. You have only ${analysis.wellnessHours.toFixed(1)} hours scheduled.`,
                            priority: 'medium',
                            category: 'wellness'
                        });
                    }

                    if (sleepPattern === 'night-owl' && analysis.lateNightSessions > 3) {
                        suggestions.push({
                            text: "As a night owl with many late sessions, maintain consistent wake-up times.",
                            priority: 'medium',
                            category: 'wellness'
                        });
                    }

                    return suggestions;
                }

                generateSocialSuggestions(analysis) {
                    const suggestions = [];
                    const socialPref = this.userProfile.socialPreference;

                    if (socialPref === 'low' && analysis.socialHours < 2) {
                        suggestions.push({
                            text: "Even with low social preference, schedule 2-3 hours weekly for mental health.",
                            priority: 'low',
                            category: 'social'
                        });
                    }

                    if (socialPref === 'high' && analysis.socialHours < 8) {
                        suggestions.push({
                            text: `You prefer high social activity but only have ${analysis.socialHours.toFixed(1)} hours scheduled.`,
                            priority: 'medium',
                            category: 'social'
                        });
                    }

                    return suggestions;
                }

                generateProductivitySuggestions(analysis) {
                    const suggestions = [];
                    const breakStyle = this.userProfile.breakStyle;

                    if (analysis.breakHours < 10 && analysis.codingHours > 20) {
                        suggestions.push({
                            text: `High coding (${analysis.codingHours.toFixed(1)}h) with low breaks (${analysis.breakHours.toFixed(1)}h). Try the 52/17 rule.`,
                            priority: 'high',
                            category: 'productivity'
                        });
                    }

                    if (breakStyle === 'pomodoro' && analysis.maxConsecutiveCoding > 4) {
                        suggestions.push({
                            text: "You use Pomodoro but have long coding blocks. Maintain 25-minute focused sessions.",
                            priority: 'medium',
                            category: 'productivity'
                        });
                    }

                    return suggestions;
                }

                generateGoalBasedSuggestions(analysis) {
                    const suggestions = [];
                    const focusArea = this.userProfile.focusArea;

                    switch (focusArea) {
                        case 'web-dev':
                            suggestions.push({
                                text: "For web development, schedule design review sessions separate from coding.",
                                priority: 'low',
                                category: 'learning'
                            });
                            break;
                        case 'algorithms':
                            suggestions.push({
                                text: "Algorithm practice is most effective in daily 1-2 hour sessions.",
                                priority: 'medium',
                                category: 'learning'
                            });
                            break;
                        case 'ai-ml':
                            suggestions.push({
                                text: "Schedule separate blocks for AI/ML implementation vs. research.",
                                priority: 'medium',
                                category: 'learning'
                            });
                            break;
                    }

                    if (analysis.balanceScore < 0.6) {
                        suggestions.push({
                            text: `Your balance score is low (${(analysis.balanceScore * 100).toFixed(0)}%). Distribute activities more evenly.`,
                            priority: 'high',
                            category: 'wellness'
                        });
                    }

                    return suggestions;
                }

                filterSuggestions(suggestions) {
                    const uniqueSuggestions = suggestions.filter((s, i, self) =>
                        i === self.findIndex(t => t.text === s.text)
                    );

                    uniqueSuggestions.sort((a, b) => {
                        const priorityOrder = { high: 3, medium: 2, low: 1 };
                        return priorityOrder[b.priority] - priorityOrder[a.priority];
                    });

                    return uniqueSuggestions.slice(0, 5);
                }

                getSlotDuration(timeString) {
                    const [start, end] = timeString.split(' - ');
                    const startTime = this.parseTime(start);
                    const endTime = this.parseTime(end);
                    return (endTime - startTime) / (1000 * 60 * 60);
                }

                parseTime(timeString) {
                    const time = timeString.trim();
                    let [hours, minutes] = time.split(':').map(Number);
                    return new Date().setHours(hours, minutes || 0, 0, 0);
                }

                isLateNightSlot(timeString) {
                    const [start] = timeString.split(' - ');
                    const time = this.parseTime(start);
                    const hours = new Date(time).getHours();
                    return hours >= 22 || hours <= 2;
                }

                isMealSlot(timeString) {
                    const mealTimes = ['7:00', '8:00', '12:00', '13:00', '18:00', '19:00'];
                    return mealTimes.some(mealTime => timeString.includes(mealTime));
                }

                calculateBalanceScore(analysis) {
                    const totalHours = analysis.codingHours + analysis.breakHours + analysis.socialHours +
                        analysis.learningHours + analysis.wellnessHours;

                    if (totalHours === 0) return 0;

                    const idealRatios = {
                        coding: 0.4,
                        break: 0.2,
                        social: 0.15,
                        learning: 0.15,
                        wellness: 0.1
                    };

                    const actualRatios = {
                        coding: analysis.codingHours / totalHours,
                        break: analysis.breakHours / totalHours,
                        social: analysis.socialHours / totalHours,
                        learning: analysis.learningHours / totalHours,
                        wellness: analysis.wellnessHours / totalHours
                    };

                    let similarity = 0;
                    for (const category in idealRatios) {
                        similarity += 1 - Math.abs(idealRatios[category] - actualRatios[category]);
                    }

                    return similarity / Object.keys(idealRatios).length;
                }
            }

            // Enhanced AI recommendation function
            function updateAIRecommendation() {
                const aiEngine = new PersonalizedAISuggestions(currentSchedule, currentSchedule);
                const analysis = aiEngine.analyzeSchedule();

                let recommendation = "";
                const userName = currentSchedule.studentName ? ` ${currentSchedule.studentName}` : '';

                if (analysis.balanceScore < 0.5) {
                    recommendation = `Hi${userName}! Your schedule shows significant imbalance. `;

                    if (analysis.codingHours > analysis.socialHours * 3) {
                        recommendation += "You're heavily focused on coding with minimal social time. ";
                    }

                    if (analysis.consecutiveCoding > 4) {
                        recommendation += "Long coding sessions without breaks can lead to burnout. ";
                    }

                    recommendation += "Try distributing activities more evenly throughout your week.";

                } else if (analysis.balanceScore > 0.8) {
                    recommendation = `Excellent balance${userName}! Your schedule shows great distribution between work, breaks, and wellness. Keep maintaining this healthy routine!`;

                } else {
                    recommendation = `Good schedule structure${userName}! `;

                    if (currentSchedule.focusArea === 'web-dev') {
                        recommendation += "As a web development student, consider scheduling design review sessions separately from coding.";
                    } else if (currentSchedule.focusArea === 'algorithms') {
                        recommendation += "For algorithm practice, daily shorter sessions are more effective than occasional long ones.";
                    } else {
                        recommendation += "Check the suggestions panel for personalized tips to optimize your schedule.";
                    }
                }

                document.getElementById('ai-recommendation').textContent = recommendation;
            }

            // Function to generate personalized suggestions
            function generatePersonalizedSuggestions() {
                const aiEngine = new PersonalizedAISuggestions(currentSchedule, currentSchedule);
                const personalizedSuggestions = aiEngine.generatePersonalizedSuggestions();

                // Convert to the format expected by our system
                currentSchedule.suggestions = personalizedSuggestions.map(suggestion => ({
                    text: suggestion.text,
                    accepted: false
                }));

                populateSuggestionsList();
                updateAIRecommendation();
            }

            // Populate the timetable with schedule data
            function populateTimetable() {
                const tbody = document.querySelector('#schedule-table tbody');
                tbody.innerHTML = '';

                currentSchedule.timeSlots.forEach(slot => {
                    const row = document.createElement('tr');

                    // Time header cell
                    const timeCell = document.createElement('td');
                    timeCell.className = 'time-header';
                    timeCell.textContent = slot.time;
                    row.appendChild(timeCell);

                    // Day cells
                    slot.days.forEach(day => {
                        const dayCell = document.createElement('td');
                        const activityDiv = document.createElement('div');
                        activityDiv.className = `activity ${day.type}`;
                        activityDiv.textContent = day.text;
                        activityDiv.dataset.type = day.type;

                        // Add suggestion indicator if this is a suggested activity
                        if (day.suggested) {
                            const indicator = document.createElement('div');
                            indicator.className = 'suggestion-indicator';
                            activityDiv.appendChild(indicator);
                        }

                        dayCell.appendChild(activityDiv);
                        row.appendChild(dayCell);
                    });

                    tbody.appendChild(row);
                });

                // Populate suggestions list
                populateSuggestionsList();

                // Update AI recommendation
                updateAIRecommendation();
            }

            // Populate suggestions list
            function populateSuggestionsList() {
                const suggestionsList = document.getElementById('suggestions-list');
                suggestionsList.innerHTML = '';

                currentSchedule.suggestions.forEach((suggestion, index) => {
                    if (!suggestion.accepted) {
                        const suggestionItem = document.createElement('div');
                        suggestionItem.className = 'suggestion-item';

                        const suggestionText = document.createElement('div');
                        suggestionText.className = 'suggestion-text';
                        suggestionText.textContent = suggestion.text;

                        const suggestionActions = document.createElement('div');
                        suggestionActions.className = 'suggestion-actions';

                        const acceptBtn = document.createElement('button');
                        acceptBtn.className = 'suggestion-btn accept';
                        acceptBtn.innerHTML = '<i class="fas fa-check"></i>';
                        acceptBtn.title = 'Accept suggestion';
                        acceptBtn.addEventListener('click', function () {
                            acceptSuggestion(index);
                        });

                        const ignoreBtn = document.createElement('button');
                        ignoreBtn.className = 'suggestion-btn ignore';
                        ignoreBtn.innerHTML = '<i class="fas fa-times"></i>';
                        ignoreBtn.title = 'Ignore suggestion';
                        ignoreBtn.addEventListener('click', function () {
                            ignoreSuggestion(index);
                        });

                        suggestionActions.appendChild(acceptBtn);
                        suggestionActions.appendChild(ignoreBtn);

                        suggestionItem.appendChild(suggestionText);
                        suggestionItem.appendChild(suggestionActions);

                        suggestionsList.appendChild(suggestionItem);
                    }
                });

                // If no suggestions, show a message
                if (suggestionsList.children.length === 0) {
                    suggestionsList.innerHTML = '<p style="text-align: center; color: #adb5bd; padding: 20px;">No active suggestions. Your schedule looks great!</p>';
                }
            }

            // Accept a suggestion
            function acceptSuggestion(index) {
                currentSchedule.suggestions[index].accepted = true;
                localStorage.setItem('blackHoleSchedule', JSON.stringify(currentSchedule));
                populateSuggestionsList();

                // In a real app, we would implement the suggestion here
                alert('Suggestion accepted! We would implement this change in your schedule.');
            }

            // Ignore a suggestion
            function ignoreSuggestion(index) {
                currentSchedule.suggestions.splice(index, 1);
                localStorage.setItem('blackHoleSchedule', JSON.stringify(currentSchedule));
                populateSuggestionsList();
            }

            // Populate the customization form
            function populateCustomizationForm() {
                document.getElementById('student-name').value = currentSchedule.studentName;
                document.getElementById('focus-area').value = currentSchedule.focusArea;
                document.getElementById('current-project').value = currentSchedule.currentProject;
                document.getElementById('sleep-pattern').value = currentSchedule.sleepPattern;
                document.getElementById('social-preference').value = currentSchedule.socialPreference;
                document.getElementById('exercise-frequency').value = currentSchedule.exerciseFrequency;
                document.getElementById('break-style').value = currentSchedule.breakStyle;
                document.getElementById('study-environment').value = currentSchedule.studyEnvironment;
                document.getElementById('suggestions-preference').value = currentSchedule.suggestionsPreference;

                const timeSlotsContainer = document.getElementById('time-slots-container');
                timeSlotsContainer.innerHTML = '';

                currentSchedule.timeSlots.forEach((slot, slotIndex) => {
                    const timeSlotDiv = document.createElement('div');
                    timeSlotDiv.className = 'time-slot';

                    // Time label
                    const timeLabel = document.createElement('div');
                    timeLabel.className = 'time-label';
                    timeLabel.textContent = slot.time;
                    timeSlotDiv.appendChild(timeLabel);

                    // Day inputs
                    slot.days.forEach((day, dayIndex) => {
                        const select = document.createElement('select');
                        select.className = 'activity-edit';
                        select.dataset.slotIndex = slotIndex;
                        select.dataset.dayIndex = dayIndex;

                        const options = [
                            { value: 'coding', text: 'Coding' },
                            { value: 'break', text: 'Break' },
                            { value: 'social', text: 'Social' },
                            { value: 'learning', text: 'Learning' },
                            { value: 'wellness', text: 'Wellness' }
                        ];

                        options.forEach(option => {
                            const optionElement = document.createElement('option');
                            optionElement.value = option.value;
                            optionElement.textContent = option.text;
                            optionElement.selected = day.type === option.value;
                            select.appendChild(optionElement);
                        });

                        timeSlotDiv.appendChild(select);
                    });

                    timeSlotsContainer.appendChild(timeSlotDiv);
                });
            }

            // Modal functionality
            const modal = document.getElementById('customization-modal');
            const customizeBtn = document.getElementById('customize-schedule');
            const closeModal = document.getElementById('close-modal');
            const resetBtn = document.getElementById('reset-schedule');
            const generateSuggestionsBtn = document.getElementById('generate-suggestions');
            const form = document.getElementById('customization-form');

            customizeBtn.addEventListener('click', function () {
                populateCustomizationForm();
                modal.style.display = 'block';
            });

            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            window.addEventListener('click', function (event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });

            resetBtn.addEventListener('click', function () {
                if (confirm('Are you sure you want to reset to the default schedule? This will erase all your customizations.')) {
                    currentSchedule = JSON.parse(JSON.stringify(defaultSchedule));
                    populateCustomizationForm();
                    populateTimetable();
                    localStorage.removeItem('blackHoleSchedule');
                }
            });

            generateSuggestionsBtn.addEventListener('click', function () {
                // Generate completely new personalized suggestions
                generatePersonalizedSuggestions();
                alert('New personalized suggestions generated based on your current schedule!');
            });

            form.addEventListener('submit', function (event) {
                event.preventDefault();

                // Update currentSchedule with form values
                currentSchedule.studentName = document.getElementById('student-name').value;
                currentSchedule.focusArea = document.getElementById('focus-area').value;
                currentSchedule.currentProject = document.getElementById('current-project').value;
                currentSchedule.sleepPattern = document.getElementById('sleep-pattern').value;
                currentSchedule.socialPreference = document.getElementById('social-preference').value;
                currentSchedule.exerciseFrequency = document.getElementById('exercise-frequency').value;
                currentSchedule.breakStyle = document.getElementById('break-style').value;
                currentSchedule.studyEnvironment = document.getElementById('study-environment').value;
                currentSchedule.suggestionsPreference = document.getElementById('suggestions-preference').value;

                // Update activity types from the form
                const activitySelects = document.querySelectorAll('.activity-edit');
                activitySelects.forEach(select => {
                    const slotIndex = parseInt(select.dataset.slotIndex);
                    const dayIndex = parseInt(select.dataset.dayIndex);
                    currentSchedule.timeSlots[slotIndex].days[dayIndex].type = select.value;
                });

                // Generate personalized suggestions based on new data
                generatePersonalizedSuggestions();

                // Save to localStorage
                localStorage.setItem('blackHoleSchedule', JSON.stringify(currentSchedule));

                // Update the timetable
                populateTimetable();

                // Close the modal
                modal.style.display = 'none';

                // Show success message
                alert('Your schedule has been updated with personalized suggestions!');
            });

            // Initialize the timetable
            populateTimetable();

            // Generate initial personalized suggestions
            generatePersonalizedSuggestions();
        });
    </script>
</body>

</html>